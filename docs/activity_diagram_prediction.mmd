flowchart TD
    %% Start
    START([ðŸš€ Start Prediction Process])
    
    %% User Authentication
    AUTH{ðŸ” User Authenticated?}
    LOGIN[ðŸ“‹ Redirect to Login]
    VALIDATE_SESSION[âœ… Validate Session]
    LOG_AUTH[ðŸ“ Log Authentication Event]
    
    %% Authorization Check
    AUTHORIZE{ðŸ‘¤ User Authorized?}
    ACCESS_DENIED[ðŸš« Access Denied]
    LOG_ACCESS_DENIED[ðŸ“ Log Access Denied Event]
    
    %% Input Validation
    GET_INPUT[ðŸ“¥ Get Student ID/Data]
    VALIDATE_INPUT{âœ… Input Valid?}
    INPUT_ERROR[âŒ Show Input Error]
    LOG_INPUT_ERROR[ðŸ“ Log Input Error Event]
    
    %% Data Retrieval
    FETCH_STUDENT[ðŸ” Fetch Student Data]
    STUDENT_EXISTS{ðŸ‘¨â€ðŸŽ“ Student Exists?}
    STUDENT_NOT_FOUND[âŒ Student Not Found]
    LOG_STUDENT_NOT_FOUND[ðŸ“ Log Student Not Found Event]
    
    %% Data Completeness Check
    CHECK_COMPLETENESS{ðŸ“Š Data Complete?}
    INCOMPLETE_DATA[âš ï¸ Show Incomplete Data Warning]
    LOG_INCOMPLETE_DATA[ðŸ“ Log Incomplete Data Event]
    
    %% Model Loading
    LOAD_MODEL[ðŸ§  Load ML Model]
    MODEL_AVAILABLE{ðŸ¤– Model Available?}
    MODEL_NOT_FOUND[âŒ Model Not Available]
    LOG_MODEL_ERROR[ðŸ“ Log Model Error Event]
    TRAIN_MODEL[ðŸ‹ï¸ Train New Model]
    
    %% Model Training Process
    COLLECT_TRAINING_DATA[ðŸ“š Collect Training Data]
    SUFFICIENT_DATA{ðŸ“ˆ Sufficient Data?}
    INSUFFICIENT_DATA[âš ï¸ Insufficient Training Data]
    LOG_INSUFFICIENT_DATA[ðŸ“ Log Insufficient Data Event]
    
    PREPROCESS_DATA[ðŸ”§ Preprocess Training Data]
    TRAIN_C45[ðŸŒ³ Train C4.5 Algorithm]
    EVALUATE_MODEL[ðŸ“Š Evaluate Model Performance]
    SAVE_MODEL[ðŸ’¾ Save Trained Model]
    LOG_TRAINING[ðŸ“ Log Training Event]
    
    %% Feature Preparation
    PREPARE_FEATURES[ðŸ”§ Prepare Feature Vector]
    VALIDATE_FEATURES{âœ… Features Valid?}
    FEATURE_ERROR[âŒ Feature Validation Error]
    LOG_FEATURE_ERROR[ðŸ“ Log Feature Error Event]
    
    %% Prediction Process
    MAKE_PREDICTION[ðŸŽ¯ Generate Prediction]
    PREDICTION_SUCCESS{âœ… Prediction Successful?}
    PREDICTION_ERROR[âŒ Prediction Failed]
    LOG_PREDICTION_ERROR[ðŸ“ Log Prediction Error Event]
    
    %% Result Processing
    CALCULATE_CONFIDENCE[ðŸ“Š Calculate Confidence Score]
    GENERATE_EXPLANATION[ðŸ“„ Generate Explanation]
    SAVE_RESULT[ðŸ’¾ Save Prediction Result]
    LOG_PREDICTION_SUCCESS[ðŸ“ Log Successful Prediction]
    
    %% Performance Monitoring
    MEASURE_PERFORMANCE[â±ï¸ Measure Response Time]
    UPDATE_METRICS[ðŸ“ˆ Update Performance Metrics]
    
    %% Security Monitoring
    CHECK_ANOMALY{ðŸ›¡ï¸ Anomaly Detected?}
    LOG_SECURITY_EVENT[ðŸš¨ Log Security Event]
    SECURITY_ALERT[ðŸš¨ Send Security Alert]
    
    %% Result Display
    FORMAT_RESULT[ðŸŽ¨ Format Result for Display]
    DISPLAY_RESULT[ðŸ“± Display Prediction Result]
    LOG_DISPLAY[ðŸ“ Log Result Display Event]
    
    %% Error Handling
    HANDLE_ERROR[âš ï¸ Handle Error]
    LOG_ERROR[ðŸ“ Log Error Event]
    SHOW_ERROR[âŒ Show Error Message]
    
    %% End
    END([ðŸ End Process])
    
    %% Flow Connections
    START --> AUTH
    AUTH -->|No| LOGIN
    AUTH -->|Yes| VALIDATE_SESSION
    LOGIN --> LOG_AUTH
    LOG_AUTH --> END
    
    VALIDATE_SESSION --> AUTHORIZE
    AUTHORIZE -->|No| ACCESS_DENIED
    AUTHORIZE -->|Yes| GET_INPUT
    ACCESS_DENIED --> LOG_ACCESS_DENIED
    LOG_ACCESS_DENIED --> END
    
    GET_INPUT --> VALIDATE_INPUT
    VALIDATE_INPUT -->|No| INPUT_ERROR
    VALIDATE_INPUT -->|Yes| FETCH_STUDENT
    INPUT_ERROR --> LOG_INPUT_ERROR
    LOG_INPUT_ERROR --> SHOW_ERROR
    
    FETCH_STUDENT --> STUDENT_EXISTS
    STUDENT_EXISTS -->|No| STUDENT_NOT_FOUND
    STUDENT_EXISTS -->|Yes| CHECK_COMPLETENESS
    STUDENT_NOT_FOUND --> LOG_STUDENT_NOT_FOUND
    LOG_STUDENT_NOT_FOUND --> SHOW_ERROR
    
    CHECK_COMPLETENESS -->|No| INCOMPLETE_DATA
    CHECK_COMPLETENESS -->|Yes| LOAD_MODEL
    INCOMPLETE_DATA --> LOG_INCOMPLETE_DATA
    LOG_INCOMPLETE_DATA --> LOAD_MODEL
    
    LOAD_MODEL --> MODEL_AVAILABLE
    MODEL_AVAILABLE -->|No| MODEL_NOT_FOUND
    MODEL_AVAILABLE -->|Yes| PREPARE_FEATURES
    MODEL_NOT_FOUND --> LOG_MODEL_ERROR
    LOG_MODEL_ERROR --> TRAIN_MODEL
    
    TRAIN_MODEL --> COLLECT_TRAINING_DATA
    COLLECT_TRAINING_DATA --> SUFFICIENT_DATA
    SUFFICIENT_DATA -->|No| INSUFFICIENT_DATA
    SUFFICIENT_DATA -->|Yes| PREPROCESS_DATA
    INSUFFICIENT_DATA --> LOG_INSUFFICIENT_DATA
    LOG_INSUFFICIENT_DATA --> SHOW_ERROR
    
    PREPROCESS_DATA --> TRAIN_C45
    TRAIN_C45 --> EVALUATE_MODEL
    EVALUATE_MODEL --> SAVE_MODEL
    SAVE_MODEL --> LOG_TRAINING
    LOG_TRAINING --> PREPARE_FEATURES
    
    PREPARE_FEATURES --> VALIDATE_FEATURES
    VALIDATE_FEATURES -->|No| FEATURE_ERROR
    VALIDATE_FEATURES -->|Yes| MAKE_PREDICTION
    FEATURE_ERROR --> LOG_FEATURE_ERROR
    LOG_FEATURE_ERROR --> HANDLE_ERROR
    
    MAKE_PREDICTION --> PREDICTION_SUCCESS
    PREDICTION_SUCCESS -->|No| PREDICTION_ERROR
    PREDICTION_SUCCESS -->|Yes| CALCULATE_CONFIDENCE
    PREDICTION_ERROR --> LOG_PREDICTION_ERROR
    LOG_PREDICTION_ERROR --> HANDLE_ERROR
    
    CALCULATE_CONFIDENCE --> GENERATE_EXPLANATION
    GENERATE_EXPLANATION --> SAVE_RESULT
    SAVE_RESULT --> LOG_PREDICTION_SUCCESS
    LOG_PREDICTION_SUCCESS --> MEASURE_PERFORMANCE
    
    MEASURE_PERFORMANCE --> UPDATE_METRICS
    UPDATE_METRICS --> CHECK_ANOMALY
    CHECK_ANOMALY -->|Yes| LOG_SECURITY_EVENT
    CHECK_ANOMALY -->|No| FORMAT_RESULT
    LOG_SECURITY_EVENT --> SECURITY_ALERT
    SECURITY_ALERT --> FORMAT_RESULT
    
    FORMAT_RESULT --> DISPLAY_RESULT
    DISPLAY_RESULT --> LOG_DISPLAY
    LOG_DISPLAY --> END
    
    HANDLE_ERROR --> LOG_ERROR
    LOG_ERROR --> SHOW_ERROR
    SHOW_ERROR --> END
    
    %% Styling
    classDef startEnd fill:#e8f5e8,stroke:#4caf50,stroke-width:3px,color:#000
    classDef process fill:#e3f2fd,stroke:#2196f3,stroke-width:2px,color:#000
    classDef decision fill:#fff3e0,stroke:#ff9800,stroke-width:2px,color:#000
    classDef error fill:#ffebee,stroke:#f44336,stroke-width:2px,color:#000
    classDef log fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px,color:#000
    classDef security fill:#fce4ec,stroke:#e91e63,stroke-width:2px,color:#000
    classDef ml fill:#e0f2f1,stroke:#009688,stroke-width:2px,color:#000
    
    class START,END startEnd
    class VALIDATE_SESSION,GET_INPUT,FETCH_STUDENT,LOAD_MODEL,PREPARE_FEATURES,MAKE_PREDICTION,CALCULATE_CONFIDENCE,GENERATE_EXPLANATION,SAVE_RESULT,FORMAT_RESULT,DISPLAY_RESULT,MEASURE_PERFORMANCE,UPDATE_METRICS process
    class AUTH,AUTHORIZE,VALIDATE_INPUT,STUDENT_EXISTS,CHECK_COMPLETENESS,MODEL_AVAILABLE,SUFFICIENT_DATA,VALIDATE_FEATURES,PREDICTION_SUCCESS,CHECK_ANOMALY decision
    class LOGIN,ACCESS_DENIED,INPUT_ERROR,STUDENT_NOT_FOUND,INCOMPLETE_DATA,MODEL_NOT_FOUND,INSUFFICIENT_DATA,FEATURE_ERROR,PREDICTION_ERROR,HANDLE_ERROR,SHOW_ERROR error
    class LOG_AUTH,LOG_ACCESS_DENIED,LOG_INPUT_ERROR,LOG_STUDENT_NOT_FOUND,LOG_INCOMPLETE_DATA,LOG_MODEL_ERROR,LOG_INSUFFICIENT_DATA,LOG_FEATURE_ERROR,LOG_PREDICTION_ERROR,LOG_PREDICTION_SUCCESS,LOG_DISPLAY,LOG_ERROR log
    class LOG_SECURITY_EVENT,SECURITY_ALERT security
    class TRAIN_MODEL,COLLECT_TRAINING_DATA,PREPROCESS_DATA,TRAIN_C45,EVALUATE_MODEL,SAVE_MODEL,LOG_TRAINING ml 