flowchart TD
    %% Start
    START([🚀 Start Prediction Process])
    
    %% User Authentication
    AUTH_CHECK{🔐 User Authenticated?}
    LOGIN_PROCESS[📝 Login Process]
    AUTH_SUCCESS[✅ Authentication Success]
    
    %% Permission Check
    PERMISSION_CHECK{👤 Has Prediction Permission?}
    ACCESS_DENIED[🚫 Access Denied]
    PERMISSION_GRANTED[✅ Permission Granted]
    
    %% Student Selection
    STUDENT_SELECTION[👨‍🎓 Select Student for Prediction]
    STUDENT_SEARCH{🔍 Search Student?}
    SEARCH_STUDENT[🔎 Search by Name/ID]
    BROWSE_STUDENTS[📋 Browse Student List]
    STUDENT_FOUND{👨‍🎓 Student Found?}
    STUDENT_NOT_FOUND[❌ Student Not Found]
    
    %% Data Validation
    VALIDATE_STUDENT_DATA{📊 Validate Student Data}
    
    %% Academic Data Check
    CHECK_ACADEMIC_DATA{📚 Academic Data Available?}
    ACADEMIC_DATA_MISSING[⚠️ Academic Data Missing]
    ACADEMIC_DATA_OK[✅ Academic Data Available]
    
    %% Attendance Data Check
    CHECK_ATTENDANCE_DATA{📅 Attendance Data Available?}
    ATTENDANCE_DATA_MISSING[⚠️ Attendance Data Missing]
    ATTENDANCE_DATA_OK[✅ Attendance Data Available]
    
    %% Income Data Check
    CHECK_INCOME_DATA{💰 Income Data Available?}
    INCOME_DATA_MISSING[⚠️ Income Data Missing]
    INCOME_DATA_OK[✅ Income Data Available]
    
    %% Personal Data Check
    CHECK_PERSONAL_DATA{👤 Personal Data Complete?}
    PERSONAL_DATA_MISSING[⚠️ Personal Data Missing]
    PERSONAL_DATA_OK[✅ Personal Data Complete]
    
    %% Data Completeness Assessment
    ASSESS_DATA_COMPLETENESS[📊 Assess Data Completeness]
    COMPLETENESS_SCORE{📈 Completeness Score}
    VERY_INCOMPLETE[🔴 Very Incomplete (<50%)]
    PARTIALLY_COMPLETE[🟡 Partially Complete (50-80%)]
    MOSTLY_COMPLETE[🟢 Mostly Complete (>80%)]
    
    %% Data Completeness Actions
    SHOW_COMPLETENESS_WARNING[⚠️ Show Data Completeness Warning]
    CONTINUE_WITH_PARTIAL{🤔 Continue with Partial Data?}
    SUGGEST_DATA_ENTRY[📝 Suggest Data Entry]
    CANCEL_PREDICTION[❌ Cancel Prediction]
    
    %% Feature Engineering
    START_FEATURE_ENGINEERING[🔧 Start Feature Engineering]
    
    %% Academic Features
    EXTRACT_ACADEMIC_FEATURES[📚 Extract Academic Features]
    CALC_AVERAGE_SCORES[📊 Calculate Average Scores]
    CALC_SUBJECT_PERFORMANCE[📈 Calculate Subject Performance]
    ACADEMIC_TREND_ANALYSIS[📉 Academic Trend Analysis]
    
    %% Attendance Features
    EXTRACT_ATTENDANCE_FEATURES[📅 Extract Attendance Features]
    CALC_ATTENDANCE_RATE[📊 Calculate Attendance Rate]
    ATTENDANCE_PATTERN_ANALYSIS[📈 Attendance Pattern Analysis]
    
    %% Socioeconomic Features
    EXTRACT_SOCIOECONOMIC_FEATURES[💰 Extract Socioeconomic Features]
    CALC_INCOME_CATEGORY[💵 Calculate Income Category]
    PARENT_EDUCATION_ANALYSIS[🎓 Parent Education Analysis]
    
    %% Personal Features
    EXTRACT_PERSONAL_FEATURES[👤 Extract Personal Features]
    DEMOGRAPHIC_ANALYSIS[📊 Demographic Analysis]
    FAMILY_STRUCTURE_ANALYSIS[👨‍👩‍👧‍👦 Family Structure Analysis]
    
    %% Feature Validation
    VALIDATE_FEATURES[✅ Validate Feature Vector]
    FEATURE_VALIDATION_CHECK{🔍 Features Valid?}
    FEATURE_ERROR[❌ Feature Validation Error]
    FEATURES_READY[✅ Features Ready]
    
    %% Model Loading
    LOAD_ML_MODEL[🤖 Load ML Model]
    MODEL_CHECK{🧠 Model Available?}
    MODEL_NOT_FOUND[❌ Model Not Found]
    MODEL_LOADED[✅ Model Loaded]
    
    %% Model Training (if needed)
    TRIGGER_MODEL_TRAINING[🏋️ Trigger Model Training]
    COLLECT_TRAINING_DATA[📊 Collect Training Data]
    TRAINING_DATA_CHECK{📈 Sufficient Training Data?}
    INSUFFICIENT_TRAINING_DATA[⚠️ Insufficient Training Data]
    PREPROCESS_TRAINING_DATA[🔧 Preprocess Training Data]
    TRAIN_C45_MODEL[🌳 Train C4.5 Decision Tree]
    EVALUATE_MODEL_PERFORMANCE[📊 Evaluate Model Performance]
    MODEL_PERFORMANCE_CHECK{📈 Performance Acceptable?}
    POOR_MODEL_PERFORMANCE[⚠️ Poor Model Performance]
    SAVE_TRAINED_MODEL[💾 Save Trained Model]
    MODEL_TRAINING_COMPLETE[✅ Model Training Complete]
    
    %% Prediction Execution
    EXECUTE_PREDICTION[🎯 Execute Prediction]
    APPLY_C45_ALGORITHM[🌳 Apply C4.5 Algorithm]
    TRAVERSE_DECISION_TREE[🔄 Traverse Decision Tree]
    CALCULATE_PREDICTION[📊 Calculate Prediction]
    
    %% Prediction Results
    PREDICTION_RESULT{🎯 Prediction Result}
    HIGH_PERFORMANCE[🟢 High Performance Predicted]
    MEDIUM_PERFORMANCE[🟡 Medium Performance Predicted]
    LOW_PERFORMANCE[🔴 Low Performance Predicted]
    
    %% Confidence Calculation
    CALCULATE_CONFIDENCE[📊 Calculate Confidence Score]
    CONFIDENCE_LEVEL{🎯 Confidence Level}
    HIGH_CONFIDENCE[🟢 High Confidence (>80%)]
    MEDIUM_CONFIDENCE[🟡 Medium Confidence (60-80%)]
    LOW_CONFIDENCE[🔴 Low Confidence (<60%)]
    
    %% Feature Importance Analysis
    CALCULATE_FEATURE_IMPORTANCE[📊 Calculate Feature Importance]
    RANK_FEATURES[📈 Rank Features by Importance]
    TOP_FEATURES[🏆 Identify Top Contributing Features]
    
    %% Explanation Generation
    GENERATE_EXPLANATION[📄 Generate Prediction Explanation]
    CREATE_DECISION_PATH[🛤️ Create Decision Path]
    IDENTIFY_KEY_FACTORS[🔑 Identify Key Factors]
    GENERATE_RECOMMENDATIONS[💡 Generate Recommendations]
    
    %% Result Validation
    VALIDATE_PREDICTION_RESULT[✅ Validate Prediction Result]
    RESULT_VALIDATION_CHECK{🔍 Result Valid?}
    RESULT_ERROR[❌ Result Validation Error]
    RESULT_VALIDATED[✅ Result Validated]
    
    %% Result Storage
    SAVE_PREDICTION_RESULT[💾 Save Prediction Result]
    UPDATE_STUDENT_RECORD[📝 Update Student Record]
    LOG_PREDICTION_EVENT[📝 Log Prediction Event]
    
    %% Result Formatting
    FORMAT_PREDICTION_RESULT[🎨 Format Prediction Result]
    CREATE_VISUAL_REPRESENTATION[📊 Create Visual Representation]
    PREPARE_DETAILED_REPORT[📄 Prepare Detailed Report]
    
    %% Result Display
    DISPLAY_PREDICTION[📱 Display Prediction Result]
    SHOW_PREDICTION_SUMMARY[📋 Show Prediction Summary]
    SHOW_CONFIDENCE_SCORE[🎯 Show Confidence Score]
    SHOW_FEATURE_IMPORTANCE[📊 Show Feature Importance]
    SHOW_RECOMMENDATIONS[💡 Show Recommendations]
    SHOW_DECISION_PATH[🛤️ Show Decision Path]
    
    %% User Actions
    USER_ACTION{🤔 User Action}
    VIEW_DETAILS[🔍 View Detailed Analysis]
    SAVE_REPORT[💾 Save Report]
    SHARE_RESULT[📤 Share Result]
    NEW_PREDICTION[🔄 New Prediction]
    
    %% Performance Monitoring
    MONITOR_PREDICTION_PERFORMANCE[📈 Monitor Prediction Performance]
    LOG_PERFORMANCE_METRICS[📊 Log Performance Metrics]
    UPDATE_SYSTEM_ANALYTICS[📊 Update System Analytics]
    
    %% End
    END([🏁 End Process])

    %% Flow Connections
    START --> AUTH_CHECK
    AUTH_CHECK -->|No| LOGIN_PROCESS
    AUTH_CHECK -->|Yes| PERMISSION_CHECK
    LOGIN_PROCESS --> AUTH_SUCCESS
    AUTH_SUCCESS --> PERMISSION_CHECK
    
    PERMISSION_CHECK -->|No| ACCESS_DENIED
    PERMISSION_CHECK -->|Yes| PERMISSION_GRANTED
    ACCESS_DENIED --> END
    PERMISSION_GRANTED --> STUDENT_SELECTION
    
    STUDENT_SELECTION --> STUDENT_SEARCH
    STUDENT_SEARCH -->|Yes| SEARCH_STUDENT
    STUDENT_SEARCH -->|No| BROWSE_STUDENTS
    SEARCH_STUDENT --> STUDENT_FOUND
    BROWSE_STUDENTS --> STUDENT_FOUND
    STUDENT_FOUND -->|No| STUDENT_NOT_FOUND
    STUDENT_FOUND -->|Yes| VALIDATE_STUDENT_DATA
    STUDENT_NOT_FOUND --> STUDENT_SELECTION
    
    VALIDATE_STUDENT_DATA --> CHECK_ACADEMIC_DATA
    CHECK_ACADEMIC_DATA -->|No| ACADEMIC_DATA_MISSING
    CHECK_ACADEMIC_DATA -->|Yes| ACADEMIC_DATA_OK
    ACADEMIC_DATA_MISSING --> CHECK_ATTENDANCE_DATA
    ACADEMIC_DATA_OK --> CHECK_ATTENDANCE_DATA
    
    CHECK_ATTENDANCE_DATA -->|No| ATTENDANCE_DATA_MISSING
    CHECK_ATTENDANCE_DATA -->|Yes| ATTENDANCE_DATA_OK
    ATTENDANCE_DATA_MISSING --> CHECK_INCOME_DATA
    ATTENDANCE_DATA_OK --> CHECK_INCOME_DATA
    
    CHECK_INCOME_DATA -->|No| INCOME_DATA_MISSING
    CHECK_INCOME_DATA -->|Yes| INCOME_DATA_OK
    INCOME_DATA_MISSING --> CHECK_PERSONAL_DATA
    INCOME_DATA_OK --> CHECK_PERSONAL_DATA
    
    CHECK_PERSONAL_DATA -->|No| PERSONAL_DATA_MISSING
    CHECK_PERSONAL_DATA -->|Yes| PERSONAL_DATA_OK
    PERSONAL_DATA_MISSING --> ASSESS_DATA_COMPLETENESS
    PERSONAL_DATA_OK --> ASSESS_DATA_COMPLETENESS
    
    ASSESS_DATA_COMPLETENESS --> COMPLETENESS_SCORE
    COMPLETENESS_SCORE -->|<50%| VERY_INCOMPLETE
    COMPLETENESS_SCORE -->|50-80%| PARTIALLY_COMPLETE
    COMPLETENESS_SCORE -->|>80%| MOSTLY_COMPLETE
    
    VERY_INCOMPLETE --> SHOW_COMPLETENESS_WARNING
    PARTIALLY_COMPLETE --> SHOW_COMPLETENESS_WARNING
    MOSTLY_COMPLETE --> START_FEATURE_ENGINEERING
    
    SHOW_COMPLETENESS_WARNING --> CONTINUE_WITH_PARTIAL
    CONTINUE_WITH_PARTIAL -->|Yes| START_FEATURE_ENGINEERING
    CONTINUE_WITH_PARTIAL -->|No| SUGGEST_DATA_ENTRY
    SUGGEST_DATA_ENTRY --> CANCEL_PREDICTION
    CANCEL_PREDICTION --> END
    
    START_FEATURE_ENGINEERING --> EXTRACT_ACADEMIC_FEATURES
    EXTRACT_ACADEMIC_FEATURES --> CALC_AVERAGE_SCORES
    CALC_AVERAGE_SCORES --> CALC_SUBJECT_PERFORMANCE
    CALC_SUBJECT_PERFORMANCE --> ACADEMIC_TREND_ANALYSIS
    ACADEMIC_TREND_ANALYSIS --> EXTRACT_ATTENDANCE_FEATURES
    
    EXTRACT_ATTENDANCE_FEATURES --> CALC_ATTENDANCE_RATE
    CALC_ATTENDANCE_RATE --> ATTENDANCE_PATTERN_ANALYSIS
    ATTENDANCE_PATTERN_ANALYSIS --> EXTRACT_SOCIOECONOMIC_FEATURES
    
    EXTRACT_SOCIOECONOMIC_FEATURES --> CALC_INCOME_CATEGORY
    CALC_INCOME_CATEGORY --> PARENT_EDUCATION_ANALYSIS
    PARENT_EDUCATION_ANALYSIS --> EXTRACT_PERSONAL_FEATURES
    
    EXTRACT_PERSONAL_FEATURES --> DEMOGRAPHIC_ANALYSIS
    DEMOGRAPHIC_ANALYSIS --> FAMILY_STRUCTURE_ANALYSIS
    FAMILY_STRUCTURE_ANALYSIS --> VALIDATE_FEATURES
    
    VALIDATE_FEATURES --> FEATURE_VALIDATION_CHECK
    FEATURE_VALIDATION_CHECK -->|No| FEATURE_ERROR
    FEATURE_VALIDATION_CHECK -->|Yes| FEATURES_READY
    FEATURE_ERROR --> START_FEATURE_ENGINEERING
    FEATURES_READY --> LOAD_ML_MODEL
    
    LOAD_ML_MODEL --> MODEL_CHECK
    MODEL_CHECK -->|No| MODEL_NOT_FOUND
    MODEL_CHECK -->|Yes| MODEL_LOADED
    MODEL_NOT_FOUND --> TRIGGER_MODEL_TRAINING
    MODEL_LOADED --> EXECUTE_PREDICTION
    
    TRIGGER_MODEL_TRAINING --> COLLECT_TRAINING_DATA
    COLLECT_TRAINING_DATA --> TRAINING_DATA_CHECK
    TRAINING_DATA_CHECK -->|No| INSUFFICIENT_TRAINING_DATA
    TRAINING_DATA_CHECK -->|Yes| PREPROCESS_TRAINING_DATA
    INSUFFICIENT_TRAINING_DATA --> END
    
    PREPROCESS_TRAINING_DATA --> TRAIN_C45_MODEL
    TRAIN_C45_MODEL --> EVALUATE_MODEL_PERFORMANCE
    EVALUATE_MODEL_PERFORMANCE --> MODEL_PERFORMANCE_CHECK
    MODEL_PERFORMANCE_CHECK -->|No| POOR_MODEL_PERFORMANCE
    MODEL_PERFORMANCE_CHECK -->|Yes| SAVE_TRAINED_MODEL
    POOR_MODEL_PERFORMANCE --> END
    SAVE_TRAINED_MODEL --> MODEL_TRAINING_COMPLETE
    MODEL_TRAINING_COMPLETE --> EXECUTE_PREDICTION
    
    EXECUTE_PREDICTION --> APPLY_C45_ALGORITHM
    APPLY_C45_ALGORITHM --> TRAVERSE_DECISION_TREE
    TRAVERSE_DECISION_TREE --> CALCULATE_PREDICTION
    CALCULATE_PREDICTION --> PREDICTION_RESULT
    
    PREDICTION_RESULT -->|High| HIGH_PERFORMANCE
    PREDICTION_RESULT -->|Medium| MEDIUM_PERFORMANCE
    PREDICTION_RESULT -->|Low| LOW_PERFORMANCE
    
    HIGH_PERFORMANCE --> CALCULATE_CONFIDENCE
    MEDIUM_PERFORMANCE --> CALCULATE_CONFIDENCE
    LOW_PERFORMANCE --> CALCULATE_CONFIDENCE
    
    CALCULATE_CONFIDENCE --> CONFIDENCE_LEVEL
    CONFIDENCE_LEVEL -->|>80%| HIGH_CONFIDENCE
    CONFIDENCE_LEVEL -->|60-80%| MEDIUM_CONFIDENCE
    CONFIDENCE_LEVEL -->|<60%| LOW_CONFIDENCE
    
    HIGH_CONFIDENCE --> CALCULATE_FEATURE_IMPORTANCE
    MEDIUM_CONFIDENCE --> CALCULATE_FEATURE_IMPORTANCE
    LOW_CONFIDENCE --> CALCULATE_FEATURE_IMPORTANCE
    
    CALCULATE_FEATURE_IMPORTANCE --> RANK_FEATURES
    RANK_FEATURES --> TOP_FEATURES
    TOP_FEATURES --> GENERATE_EXPLANATION
    
    GENERATE_EXPLANATION --> CREATE_DECISION_PATH
    CREATE_DECISION_PATH --> IDENTIFY_KEY_FACTORS
    IDENTIFY_KEY_FACTORS --> GENERATE_RECOMMENDATIONS
    GENERATE_RECOMMENDATIONS --> VALIDATE_PREDICTION_RESULT
    
    VALIDATE_PREDICTION_RESULT --> RESULT_VALIDATION_CHECK
    RESULT_VALIDATION_CHECK -->|No| RESULT_ERROR
    RESULT_VALIDATION_CHECK -->|Yes| RESULT_VALIDATED
    RESULT_ERROR --> EXECUTE_PREDICTION
    RESULT_VALIDATED --> SAVE_PREDICTION_RESULT
    
    SAVE_PREDICTION_RESULT --> UPDATE_STUDENT_RECORD
    UPDATE_STUDENT_RECORD --> LOG_PREDICTION_EVENT
    LOG_PREDICTION_EVENT --> FORMAT_PREDICTION_RESULT
    
    FORMAT_PREDICTION_RESULT --> CREATE_VISUAL_REPRESENTATION
    CREATE_VISUAL_REPRESENTATION --> PREPARE_DETAILED_REPORT
    PREPARE_DETAILED_REPORT --> DISPLAY_PREDICTION
    
    DISPLAY_PREDICTION --> SHOW_PREDICTION_SUMMARY
    SHOW_PREDICTION_SUMMARY --> SHOW_CONFIDENCE_SCORE
    SHOW_CONFIDENCE_SCORE --> SHOW_FEATURE_IMPORTANCE
    SHOW_FEATURE_IMPORTANCE --> SHOW_RECOMMENDATIONS
    SHOW_RECOMMENDATIONS --> SHOW_DECISION_PATH
    SHOW_DECISION_PATH --> USER_ACTION
    
    USER_ACTION -->|View Details| VIEW_DETAILS
    USER_ACTION -->|Save Report| SAVE_REPORT
    USER_ACTION -->|Share Result| SHARE_RESULT
    USER_ACTION -->|New Prediction| NEW_PREDICTION
    USER_ACTION -->|End| MONITOR_PREDICTION_PERFORMANCE
    
    VIEW_DETAILS --> USER_ACTION
    SAVE_REPORT --> USER_ACTION
    SHARE_RESULT --> USER_ACTION
    NEW_PREDICTION --> STUDENT_SELECTION
    
    MONITOR_PREDICTION_PERFORMANCE --> LOG_PERFORMANCE_METRICS
    LOG_PERFORMANCE_METRICS --> UPDATE_SYSTEM_ANALYTICS
    UPDATE_SYSTEM_ANALYTICS --> END

    %% Styling
    classDef startEnd fill:#e8f5e8,stroke:#4caf50,stroke-width:3px,color:#000
    classDef process fill:#e3f2fd,stroke:#2196f3,stroke-width:2px,color:#000
    classDef decision fill:#fff3e0,stroke:#ff9800,stroke-width:2px,color:#000
    classDef error fill:#ffebee,stroke:#f44336,stroke-width:2px,color:#000
    classDef success fill:#e8f5e8,stroke:#4caf50,stroke-width:2px,color:#000
    classDef warning fill:#fff8e1,stroke:#ffc107,stroke-width:2px,color:#000
    classDef dataCheck fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px,color:#000
    classDef feature fill:#e0f2f1,stroke:#009688,stroke-width:2px,color:#000
    classDef ml fill:#fff3e0,stroke:#ff9800,stroke-width:2px,color:#000
    classDef result fill:#e1f5fe,stroke:#03a9f4,stroke-width:2px,color:#000

    class START,END startEnd
    class LOGIN_PROCESS,STUDENT_SELECTION,SEARCH_STUDENT,BROWSE_STUDENTS,ASSESS_DATA_COMPLETENESS,START_FEATURE_ENGINEERING,VALIDATE_FEATURES,LOAD_ML_MODEL,EXECUTE_PREDICTION,FORMAT_PREDICTION_RESULT,DISPLAY_PREDICTION process
    class AUTH_CHECK,PERMISSION_CHECK,STUDENT_SEARCH,STUDENT_FOUND,VALIDATE_STUDENT_DATA,CONTINUE_WITH_PARTIAL,FEATURE_VALIDATION_CHECK,MODEL_CHECK,TRAINING_DATA_CHECK,MODEL_PERFORMANCE_CHECK,RESULT_VALIDATION_CHECK,USER_ACTION decision
    class ACCESS_DENIED,STUDENT_NOT_FOUND,FEATURE_ERROR,MODEL_NOT_FOUND,INSUFFICIENT_TRAINING_DATA,POOR_MODEL_PERFORMANCE,RESULT_ERROR error
    class AUTH_SUCCESS,PERMISSION_GRANTED,FEATURES_READY,MODEL_LOADED,MODEL_TRAINING_COMPLETE,RESULT_VALIDATED success
    class SHOW_COMPLETENESS_WARNING,VERY_INCOMPLETE,PARTIALLY_COMPLETE,LOW_CONFIDENCE warning
    class CHECK_ACADEMIC_DATA,CHECK_ATTENDANCE_DATA,CHECK_INCOME_DATA,CHECK_PERSONAL_DATA,ACADEMIC_DATA_MISSING,ATTENDANCE_DATA_MISSING,INCOME_DATA_MISSING,PERSONAL_DATA_MISSING,ACADEMIC_DATA_OK,ATTENDANCE_DATA_OK,INCOME_DATA_OK,PERSONAL_DATA_OK dataCheck
    class EXTRACT_ACADEMIC_FEATURES,EXTRACT_ATTENDANCE_FEATURES,EXTRACT_SOCIOECONOMIC_FEATURES,EXTRACT_PERSONAL_FEATURES,CALC_AVERAGE_SCORES,CALC_ATTENDANCE_RATE,CALC_INCOME_CATEGORY,DEMOGRAPHIC_ANALYSIS feature
    class TRAIN_C45_MODEL,APPLY_C45_ALGORITHM,TRAVERSE_DECISION_TREE,CALCULATE_PREDICTION,CALCULATE_CONFIDENCE,CALCULATE_FEATURE_IMPORTANCE ml
    class HIGH_PERFORMANCE,MEDIUM_PERFORMANCE,LOW_PERFORMANCE,HIGH_CONFIDENCE,MEDIUM_CONFIDENCE,PREDICTION_RESULT,CONFIDENCE_LEVEL result 