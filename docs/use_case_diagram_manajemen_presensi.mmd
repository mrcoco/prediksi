graph TB
    %% Actors
    User["ğŸ‘¤ User<br/>(Guru/Admin)"]
    Auth["ğŸ” Authentication<br/>System"]
    
    %% System Boundary
    subgraph System["ğŸ“… Sistem Manajemen Presensi Siswa"]
        
        %% Core CRUD Operations
        subgraph CRUD["ğŸ”„ CRUD Operations"]
            UC1["â• Tambah Data Presensi<br/>(Create)"]
            UC2["ğŸ“‹ Lihat Daftar Presensi<br/>(Read All)"]
            UC3["ğŸ‘¤ Lihat Detail Presensi<br/>(Read Single)"]
            UC4["âœï¸ Edit Data Presensi<br/>(Update)"]
            UC5["ğŸ—‘ï¸ Hapus Data Presensi<br/>(Delete)"]
        end
        
        %% Search & Filter Operations
        subgraph Search["ğŸ” Search & Filter"]
            UC6["ğŸ” Cari Presensi<br/>(Search)"]
            UC7["ğŸ“Š Filter Presensi<br/>(Filter)"]
            UC8["ğŸ“„ Pagination<br/>(Paging)"]
        end
        
        %% Data Management Operations
        subgraph DataMgmt["ğŸ“ Data Management"]
            UC9["ğŸ“¥ Export Excel<br/>(Export)"]
            UC10["ğŸ”¢ Hitung Total Data<br/>(Count)"]
            UC11["ğŸ“ Dropdown Siswa<br/>(Dropdown)"]
        end
        
        %% Business Logic Operations
        subgraph BusinessLogic["ğŸ“Š Business Logic"]
            UC12["ğŸ§® Hitung Persentase Kehadiran<br/>(Calculate Percentage)"]
            UC13["ğŸ“ˆ Tentukan Kategori Kehadiran<br/>(Categorize Attendance)"]
            UC14["ğŸ“‹ Validasi Total Hari<br/>(Validate Total Days)"]
            UC15["ğŸ“… Format Periode<br/>(Format Period)"]
        end
        
        %% Validation Operations
        subgraph Validation["âœ… Validation"]
            UC16["ğŸ†” Validasi Siswa<br/>(Student Validation)"]
            UC17["ğŸ“‹ Validasi Data<br/>(Data Validation)"]
            UC18["ğŸ” Cek Duplikasi<br/>(Duplicate Check)"]
            UC19["ğŸ“Š Validasi Semester<br/>(Semester Validation)"]
        end
        
        %% Authentication Operations
        subgraph Authentication["ğŸ” Authentication"]
            UC20["ğŸ”‘ Login<br/>(Authentication)"]
            UC21["ğŸ›¡ï¸ Autorisasi<br/>(Authorization)"]
            UC22["ğŸ”’ Validasi Token<br/>(Token Validation)"]
        end
        
        %% Notification Operations
        subgraph Notification["ğŸ”” Notification"]
            UC23["âœ… Notifikasi Sukses<br/>(Success Notification)"]
            UC24["âŒ Notifikasi Error<br/>(Error Notification)"]
            UC25["â„¹ï¸ Notifikasi Info<br/>(Info Notification)"]
        end
    end
    
    %% User Relationships
    User --> UC1
    User --> UC2
    User --> UC3
    User --> UC4
    User --> UC5
    User --> UC6
    User --> UC7
    User --> UC8
    User --> UC9
    User --> UC10
    User --> UC11
    
    %% Authentication System Relationships
    Auth --> UC20
    Auth --> UC21
    Auth --> UC22
    
    %% Include Relationships (shown as dependencies)
    UC1 -.-> UC16
    UC1 -.-> UC17
    UC1 -.-> UC18
    UC1 -.-> UC19
    UC1 -.-> UC12
    UC1 -.-> UC13
    UC1 -.-> UC14
    UC1 -.-> UC22
    
    UC2 -.-> UC22
    UC2 -.-> UC6
    UC2 -.-> UC7
    UC2 -.-> UC8
    UC2 -.-> UC15
    
    UC3 -.-> UC22
    UC3 -.-> UC17
    UC3 -.-> UC15
    
    UC4 -.-> UC22
    UC4 -.-> UC16
    UC4 -.-> UC17
    UC4 -.-> UC12
    UC4 -.-> UC13
    UC4 -.-> UC14
    
    UC5 -.-> UC22
    UC5 -.-> UC17
    
    UC9 -.-> UC22
    UC9 -.-> UC15
    
    UC10 -.-> UC22
    UC11 -.-> UC22
    
    %% Extend Relationships (shown as optional connections)
    UC1 -.- UC23
    UC1 -.- UC24
    UC2 -.- UC23
    UC2 -.- UC24
    UC3 -.- UC24
    UC4 -.- UC23
    UC4 -.- UC24
    UC5 -.- UC23
    UC5 -.- UC24
    UC9 -.- UC23
    UC9 -.- UC24
    UC16 -.- UC24
    UC17 -.- UC24
    UC18 -.- UC24
    UC19 -.- UC24
    
    %% Styling
    classDef userStyle fill:#A23B72,stroke:#2E86AB,stroke-width:2px,color:#fff
    classDef authStyle fill:#2E86AB,stroke:#A23B72,stroke-width:2px,color:#fff
    classDef usecaseStyle fill:#F18F01,stroke:#C73E1D,stroke-width:2px,color:#000
    classDef systemStyle fill:#E8F4FD,stroke:#2E86AB,stroke-width:3px
    classDef packageStyle fill:#FFF5E6,stroke:#F18F01,stroke-width:2px
    
    class User userStyle
    class Auth authStyle
    class UC1,UC2,UC3,UC4,UC5,UC6,UC7,UC8,UC9,UC10,UC11,UC12,UC13,UC14,UC15,UC16,UC17,UC18,UC19,UC20,UC21,UC22,UC23,UC24,UC25 usecaseStyle 